<html>
  <body>
    <h1>Proto.actor Go Real-time map sample</h1>

    <script src="signalr.js"></script>
    <script>
      (async function () {
        const connection = new signalR.HubConnectionBuilder()
          .withUrl('/events')
          .configureLogging(signalR.LogLevel.Information)
          .withAutomaticReconnect()
          .build();

        connection.on('positions', (payload) => {
          console.log(payload);
        });

        connection.start();
        setTimeout(() => {
          connection.invoke(
            'SetViewport',
            24.593985,
            60.103097,
            25.134473,
            60.328337
          );
        }, 500);
      })();
    </script>
  </body>
</html>
